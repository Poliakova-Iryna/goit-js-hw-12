{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nexport function appendImagesHits(hits, wrapper) {\n    const hitsMarkup = hits.map(\n        ({\n          webformatURL,\n          largeImageURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) => `\n              <li class=\"gallery-item\">\n                  <a href=\"${largeImageURL}\" class=\"gallery-link\">\n                      <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-image\" />\n                  </a>\n                  <div class=\"info\">\n                      <p class=\"info-item\"><span>Likes</span> ${likes}</p>\n                      <p class=\"info-item\"><span>Views</span> ${views}</p>\n                      <p class=\"info-item\"><span>Comments</span> ${comments}</p>\n                      <p class=\"info-item\"><span>Downloads</span> ${downloads}</p>\n                  </div>\n              </li>`)\n              .join('');\n    wrapper.insertAdjacentHTML('beforeend',hitsMarkup);\n}\n","import iziToast from \"izitoast\";\nimport axios from \"axios\";\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"46090964-55e0ede1337bbc868df4332a0\";\n\nexport async function fetchImags(searchQuery) {\n    const options = new URLSearchParams({\n        q: searchQuery,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n        per_page: 15\n    });\n\n    const url = `${BASE_URL}?key=${API_KEY}&${options}`;\n\n    const { data: {hits, totalHits}, request: {status} } = await axios.get(url);\n\n    if(status !== 200) {\n        throw new Error(\n            iziToast.error({\n                title: 'Error',\n                message: 'Something went wrong...',\n                position: 'topRight',\n            })\n        )\n    };\n\n    return {hits, totalHits};\n}\n\n","import { appendImagesHits } from \"./js/render-functions\";\nimport { fetchImags } from \"./js/pixabay-api\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport axios from \"axios\";\n\nconst refs = {\n    form: document.querySelector('.js-form'),\n    container: document.querySelector('.js-container'),\n    searchBtn: document.querySelector('.js-search-btn'),\n    loadMoreBtn: document.querySelector('.js-load-more-btn'),\n    gallery: document.querySelector('.js-gallery'),\n}; \n\nrefs.form.addEventListener('submit', handleSubmit) \n\n\nasync function handleSubmit(event) {\n    event.preventDefault();\n\n    const form = event.currentTarget;\n\n    const { value: searchQuery } = form.elements.query;\n\n    try {\n        const { hits, totalHits } = await fetchImags(searchQuery);\n\n        refs.gallery.innerHTML = '';\n\n        appendImagesHits(hits, refs.gallery);\n        refs.loadMoreBtn.classList.remove('is-hidden');\n\n        form.reset();\n        gallery.refresh();\n\n    }\n    catch (error) {\n        iziToast.error({\n            title: 'Error',\n            message: 'Something went wrong',\n            position: 'topRight',\n        })\n    }\n    finally {}  \n\n}\n\n\n\n\n"],"names":["appendImagesHits","hits","wrapper","hitsMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","BASE_URL","API_KEY","fetchImags","searchQuery","options","url","totalHits","status","axios","iziToast","refs","handleSubmit","event","form"],"mappings":"6vBAGO,SAASA,EAAiBC,EAAMC,EAAS,CAC5C,MAAMC,EAAaF,EAAK,IACpB,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACV,IAAc;AAAA;AAAA,6BAEeL,CAAa;AAAA,kCACRD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,gEAGIC,CAAK;AAAA,gEACLC,CAAK;AAAA,mEACFC,CAAQ;AAAA,oEACPC,CAAS;AAAA;AAAA,oBAEzD,EACL,KAAK,EAAE,EAClBR,EAAQ,mBAAmB,YAAYC,CAAU,CACrD,CCxBA,MAAMQ,EAAW,2BACXC,EAAU,qCAET,eAAeC,EAAWC,EAAa,CAC1C,MAAMC,EAAU,IAAI,gBAAgB,CAChC,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAU,EAClB,CAAK,EAEKE,EAAM,GAAGL,CAAQ,QAAQC,CAAO,IAAIG,CAAO,GAE3C,CAAE,KAAM,CAAC,KAAAd,EAAM,UAAAgB,CAAS,EAAG,QAAS,CAAC,OAAAC,CAAM,CAAG,EAAG,MAAMC,EAAM,IAAIH,CAAG,EAE1E,GAAGE,IAAW,IACV,MAAM,IAAI,MACNE,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0BACT,SAAU,UAC1B,CAAa,CACJ,EAGL,MAAO,CAAC,KAAAnB,EAAM,UAAAgB,CAAS,CAC3B,CCtBA,MAAMI,EAAO,CACT,KAAM,SAAS,cAAc,UAAU,EACvC,UAAW,SAAS,cAAc,eAAe,EACjD,UAAW,SAAS,cAAc,gBAAgB,EAClD,YAAa,SAAS,cAAc,mBAAmB,EACvD,QAAS,SAAS,cAAc,aAAa,CACjD,EAEAA,EAAK,KAAK,iBAAiB,SAAUC,CAAY,EAGjD,eAAeA,EAAaC,EAAO,CAC/BA,EAAM,eAAc,EAEpB,MAAMC,EAAOD,EAAM,cAEb,CAAE,MAAOT,CAAW,EAAKU,EAAK,SAAS,MAE7C,GAAI,CACA,KAAM,CAAE,KAAAvB,EAAM,UAAAgB,CAAS,EAAK,MAAMJ,EAAWC,CAAW,EAExDO,EAAK,QAAQ,UAAY,GAEzBrB,EAAiBC,EAAMoB,EAAK,OAAO,EACnCA,EAAK,YAAY,UAAU,OAAO,WAAW,EAE7CG,EAAK,MAAK,EACV,QAAQ,QAAO,CAElB,MACa,CACVJ,EAAS,MAAM,CACX,MAAO,QACP,QAAS,uBACT,SAAU,UACtB,CAAS,CACJ,QACL,CAAc,CAEd"}